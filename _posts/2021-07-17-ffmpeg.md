---
layout: post
title: ffmpeg
date: 2021-07-17 12:37 +0000
---

```c
// Adjust the CRF value till the quality/size tradeoff is ok. Lower values produce bigger but better files.
fmpeg -i input.mp4 -c:v libvpx-vp9 -crf 30 -b:v 0 -b:a 128k -c:a libopus output.webm

// The default encoder for WebM, libvpx, requires that if CRF mode is used, bitrate has to be set to 0. 
ffmpeg -i lucy.mp4 -c:v libvpx-vp9 -crf 4 -b:v 0 lucy.webm

```

[ffmpeg - Convert MP4 to WebM, poor results](https://stackoverflow.com/questions/47510489/ffmpeg-convert-mp4-to-webm-poor-results)

[How do i Convert an MP4 (H264,AAC) to WebM with zero quality loss using FFMPEG?](https://stackoverflow.com/questions/52243759/how-do-i-convert-an-mp4-h264-aac-to-webm-with-zero-quality-loss-using-ffmpeg)


ffmpeg `-crf`
* https://blog.csdn.net/happydeer/article/details/52610060
* https://zhuanlan.zhihu.com/p/250590703
* https://zhuanlan.zhihu.com/p/374020603

[batch processing](https://stackoverflow.com/questions/5784661/how-do-you-convert-an-entire-directory-with-ffmpeg)

```bash

for i in *.avi; do ffmpeg -i "$i" "${i%.*}.mp4"; done

```